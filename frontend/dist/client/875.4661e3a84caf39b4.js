"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[875],{3875:(pe,f,u)=>{u.r(f),u.d(f,{VehiclesModule:()=>le});var c=u(6814),p=u(1730),x=u(553),e=u(9468),d=u(2257),m=u(3507),v=u(2425);function y(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"a",7),e.NdJ("click",function(){const n=e.CHM(t).index,l=e.oxw(2);return e.KtG(l.pagination(n+1))}),e._uU(2),e.qZA()()}if(2&r){const t=s.index;e.xp6(2),e.hij(" ",t+1," ")}}function w(r,s){if(1&r&&(e.TgZ(0,"nav",4)(1,"ul",5),e.YNc(2,y,3,1,"li",6),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.pageArray)}}function Z(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9),e._UZ(2,"img",10),e.TgZ(3,"h5"),e._uU(4),e.qZA()(),e.TgZ(5,"div",11)(6,"h5",12),e._uU(7," Registration:- "),e.qZA(),e.TgZ(8,"h6"),e._uU(9),e.qZA(),e.TgZ(10,"h6"),e._uU(11),e.qZA()(),e.TgZ(12,"div",11)(13,"h5",12),e._uU(14," Insurance:- "),e.qZA(),e.TgZ(15,"h5"),e._uU(16),e.ALo(17,"uppercase"),e.qZA(),e.TgZ(18,"h5"),e._uU(19),e.qZA()(),e.TgZ(20,"div",13),e.O4$(),e.TgZ(21,"svg",14),e.NdJ("click",function(){const n=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.view(n._id))}),e._UZ(22,"path",15)(23,"path",16),e.qZA(),e.TgZ(24,"svg",17),e.NdJ("click",function(){const n=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.delete(n._id))}),e._UZ(25,"path",18),e.qZA()()()}if(2&r){const t=s.$implicit,a=e.oxw();e.xp6(2),e.Q6J("src",a.picUrl+t.VehiclePhotos[0],e.LSH),e.xp6(2),e.Oqu(t.brand),e.xp6(5),e.hij("REG NO: ",t.registration.registrationNumber,""),e.xp6(2),e.hij("Expiry date:",t.registration.expiryDate.split("T")[0],""),e.xp6(5),e.hij("Insurance Company: ",e.lcZ(17,6,t.insurance.insuranceCompany),""),e.xp6(3),e.hij("Expiry date : ",t.insurance.expiryDate.split("T")[0],"")}}let T=(()=>{class r{constructor(t,a,i,n){this._vehicleService=t,this._jwt=a,this._router=i,this._toastr=n,this.picUrl=x.N.picUrl,this.pages=0}ngOnInit(){this._vehicleService.getPages().subscribe(t=>{this.pages=t.page,this.pageArray=new Array(+this.pages).fill("X")}),this.getVehicleData(1)}getVehicleData(t){console.log("in vehicle"),this._vehicleSubscription=this._vehicleService.getVehicledata(t).subscribe(a=>{if(console.log("response>>",a),"Success"===a.status)this.vehicleData=a.data;else if("authorizationError"===a.status){let i=this._jwt.discardToken(),n=this._jwt.discardRole();console.log(i,n),"success"===i&&"success"===n&&this._router.navigate(["auth"]),this._router.navigate(["auth"])}})}pagination(t){console.log(t),this.getVehicleData(t)}viewVehicle(t){console.log(t),this._router.navigate(["vehicle.list",t])}navigate(t){this._router.navigate(["user/vehicles/add.vehicle"])}ngOnDestroy(){this._vehicleSubscription&&this._vehicleSubscription.unsubscribe()}view(t){console.log(t),this._router.navigate(["user/vehicles/view.vehicle"],{queryParams:{id:t}})}delete(t){console.log(t),this._vehicleService.deleteVehicle(t).subscribe(a=>{"Success"===a.status?this.getVehicleData(1):this._toastr.error("Something went Wrong")})}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(d.f),e.Y36(m.T),e.Y36(p.F0),e.Y36(v._W))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-vehicles"]],decls:6,vars:2,consts:[[1,"flex","justify-between","pl-3","pr-3","mb-3","mt-3"],["class","mt-4",4,"ngIf"],["type","button",1,"inline-block","rounded","bg-cyan-500","p-2","px-6","pb-2","pt-2.5","text-xs","font-medium","uppercase","leading-normal","text-white","shadow-[0_4px_9px_-4px_#3b71ca]","transition","duration-150","ease-in-out","hover:bg-primary-600","hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","focus:bg-primary-600","focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","focus:outline-none","focus:ring-0","active:bg-primary-700","active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)]","dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]","dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]",3,"click"],["class","m-2 flex flex-row justify-between block rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.09),0_10px_20px_-2px_rgba(0,0,0,0.04)]",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"flex","flex-row","ps-4"],[4,"ngFor","ngForOf"],[1,"mx-1","flex","h-6","w-6","items-center","justify-center","rounded-full","bg-gradient-to-r","from-pink-600","to-pink-400","p-0","text-sm","text-white","shadow-md","shadow-pink-500/20","transition","duration-150","ease-in-out",3,"click"],[1,"m-2","flex","flex-row","justify-between","block","rounded-lg","bg-white","shadow-[0_2px_15px_-3px_rgba(0,0,0,0.09),0_10px_20px_-2px_rgba(0,0,0,0.04)]"],["data-te-ripple-init","","data-te-ripple-color","light",1,"overflow-hidden","bg-cover","bg-no-repeat","w-40","h-40","text-center"],["alt","",1,"rounded-t-lg",3,"src"],[1,"p-6"],[1,"mb-2","text-xl","font-medium","leading-tight","text-neutral-800"],[1,"m-2","flex","flex-col","items-center"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-eye-fill","m-2",3,"click"],["d","M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"],["d","M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3-fill","m-2",3,"click"],["d","M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"]],template:function(a,i){1&a&&(e.TgZ(0,"nav",0),e.YNc(1,w,3,1,"nav",1),e.TgZ(2,"div")(3,"button",2),e.NdJ("click",function(){return i.navigate("add.vehicle")}),e._uU(4," Add new Vehicle "),e.qZA()()(),e.YNc(5,Z,26,8,"div",3)),2&a&&(e.xp6(1),e.Q6J("ngIf",i.pages>0),e.xp6(4),e.Q6J("ngForOf",i.vehicleData))},dependencies:[c.sg,c.O5,c.gd],styles:[".child-div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}svg[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return r})();function b(r,s,t,a,i,n,l){try{var _=r[n](l),h=_.value}catch(ce){return void t(ce)}_.done?s(h):Promise.resolve(h).then(a,i)}function g(r){return function(){var s=this,t=arguments;return new Promise(function(a,i){var n=r.apply(s,t);function l(h){b(n,a,i,l,_,"next",h)}function _(h){b(n,a,i,l,_,"throw",h)}l(void 0)})}}var o=u(95);function q(r,s){1&r&&(e.TgZ(0,"span",19),e._uU(1,"*Type is required"),e.qZA())}function A(r,s){if(1&r&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.MakeName),e.xp6(1),e.Oqu(t.MakeName)}}function D(r,s){1&r&&(e.TgZ(0,"span",19),e._uU(1,"*Brand is required"),e.qZA())}function C(r,s){if(1&r&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.model),e.xp6(1),e.Oqu(t.model)}}function V(r,s){1&r&&(e.TgZ(0,"span",19),e._uU(1,"*Model is required"),e.qZA())}function k(r,s){if(1&r&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.year),e.xp6(1),e.Oqu(t.year)}}function S(r,s){1&r&&(e.TgZ(0,"span",19),e._uU(1,"*Year is required"),e.qZA())}function N(r,s){1&r&&(e.TgZ(0,"span",19),e._uU(1,"*Year is required"),e.qZA())}function I(r,s){1&r&&(e.TgZ(0,"span",9),e._uU(1,"*Registration number is required"),e.qZA())}function J(r,s){1&r&&(e.TgZ(0,"span",9),e._uU(1,"*Expiry Date is required"),e.qZA())}function Y(r,s){1&r&&(e.TgZ(0,"span",11),e._uU(1,"*THis field is required"),e.qZA())}function F(r,s){1&r&&(e.TgZ(0,"span",11),e._uU(1,"*THis field is required"),e.qZA())}function j(r,s){1&r&&(e.TgZ(0,"span",11),e._uU(1,"*THis field is required"),e.qZA())}function B(r,s){1&r&&(e.O4$(),e.TgZ(0,"svg",25),e._UZ(1,"path",26),e.qZA())}function Q(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30),e._UZ(2,"img",31)(3,"div",32),e.qZA(),e.TgZ(4,"div",33)(5,"button",34),e.NdJ("click",function(){const n=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.deleteImage(l.data._id,n))}),e._uU(6," Delete "),e.qZA()()()}if(2&r){const t=s.$implicit,a=e.oxw(2);e.xp6(2),e.Q6J("src",a.picUrl+t,e.LSH)}}function R(r,s){if(1&r&&(e.TgZ(0,"div",27),e.YNc(1,Q,7,1,"div",28),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.data.VehiclePhotos)}}function L(r,s){if(1&r&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.MakeName),e.xp6(1),e.Oqu(t.MakeName)}}function G(r,s){1&r&&(e.TgZ(0,"span",20),e._uU(1,"*Brand is required"),e.qZA())}function H(r,s){if(1&r&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.model),e.xp6(1),e.Oqu(t.model)}}function X(r,s){1&r&&(e.TgZ(0,"span",20),e._uU(1,"*Model is required"),e.qZA())}function $(r,s){if(1&r&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.year),e.xp6(1),e.Oqu(t.year)}}function z(r,s){1&r&&(e.TgZ(0,"span",20),e._uU(1,"*Year is required"),e.qZA())}function K(r,s){1&r&&(e.TgZ(0,"span",20),e._uU(1,"*Year is required"),e.qZA())}function ee(r,s){1&r&&(e.TgZ(0,"span",12),e._uU(1,"*Registration number is required"),e.qZA())}function te(r,s){1&r&&(e.TgZ(0,"span",12),e._uU(1,"*Expiry Date is required"),e.qZA())}function re(r,s){1&r&&(e.TgZ(0,"span",12),e._uU(1,"*THis field is required"),e.qZA())}function ae(r,s){1&r&&(e.TgZ(0,"span",12),e._uU(1,"*THis field is required"),e.qZA())}function oe(r,s){1&r&&(e.TgZ(0,"span",12),e._uU(1,"*THis field is required"),e.qZA())}const ne=[{path:"",component:T},{path:"add.vehicle",component:(()=>{class r{constructor(t,a,i,n){this._form=t,this._vehicleService=a,this._jwt=i,this._router=n,this.error=!1,this.errorMessage="",this.vehicleData=this._form.group({type:this._form.control("",o.kI.required),brand:this._form.control("",o.kI.required),model:this._form.control("",o.kI.required),year:this._form.control("",o.kI.required),color:this._form.control("",o.kI.required)})}onTypeValue(){console.log(this.vehicleData.value.type),this._vehicleService.getCarBrands(this.vehicleData.value.type).subscribe(t=>{this.brands=t,console.log("types",this.brands.Results),this.brands.Results.forEach(a=>{console.log("carss",a.MakeName)})})}onBrandValue(){var t=this;return g(function*(){console.log(t.vehicleData.value.brand);const a=`https://api.api-ninjas.com/v1/cars?make=${t.vehicleData.value.brand}`,l=yield(yield fetch(a,{method:"GET",headers:{"X-Api-Key":"WVH898cupeF73t3B4fElxA==xAuBmwhmgIXFI18K"},contentType:"application/json"})).json();console.log(l),t.models=l})()}onModelValue(){var t=this;return g(function*(){const a=`https://api.api-ninjas.com/v1/cars?model=${t.vehicleData.value.model}`,l=yield(yield fetch(a,{method:"GET",headers:{"X-Api-Key":"WVH898cupeF73t3B4fElxA==xAuBmwhmgIXFI18K"},contentType:"application/json"})).json();console.log(l),t.years=l})()}submitVehicleData(){console.log(this.vehicleData.value),this.vehicleData.valid?this._vehicleSubscription=this._vehicleService.saveVehicleData(this.vehicleData.value).subscribe(t=>{this.returnData=t,console.log(this.returnData),"Success"===this.returnData.status?(this._jwt.setToken(this.returnData.token),console.log("in success"),this._router.navigate(["user/vehicles/add.registration"])):(this.error=!0,this.errorMessage=this.returnData.message)}):(this.error=!0,this.errorMessage="Form is not valid!")}ngOnDestroy(){this._vehicleSubscription&&this._vehicleSubscription.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(o.qu),e.Y36(d.f),e.Y36(m.T),e.Y36(p.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-vehicle"]],decls:37,vars:9,consts:[[1,"child-div","card","flex","flex-col","justify-center","shadow-zinc-600","m-1.5","md:justify-center","md:pt-0","px-8","md:px-24","lg:px-32","w-11/12","sm:w-full","md:w-2/3","lg:w-4/5","xl:w-4/5","text-gray-800"],[1,"text-center","text-3xl","mt-2"],[1,"flex","flex-col","md:pt-8","w-full",3,"formGroup","submit"],[1,"flex","flex-col","pt-1"],["for","vechicleType",1,"text-lg"],["id","vechicleType","formControlName","type",1,"data-te-select-init","shadow","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline",3,"change"],["value","Car"],["value","Moto"],["class","text-danger text-center ps-2 pt-2 col-12",4,"ngIf"],["for","brand",1,"text-lg"],["id","brand","formControlName","brand",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline",3,"change"],[3,"value",4,"ngFor","ngForOf"],["for","model",1,"text-lg"],["id","model","formControlName","model",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline",3,"change"],["for","year",1,"text-lg"],["id","year","formControlName","year",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],["id","color","formControlName","color",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"text-center","mt-2"],["type","submit","value","Submit",1,"bg-cyan-300","w-1/4","text-gray-800","font-bold","text-lg","hover:bg-gray-700","p-2","mt-2","rounded"],[1,"text-danger","text-center","ps-2","pt-2","col-12"],[3,"value"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0),e._UZ(1,"p",1),e.TgZ(2,"form",2),e.NdJ("submit",function(){return i.submitVehicleData()}),e.TgZ(3,"div",3)(4,"label",4),e._uU(5,"Vehicle Type"),e.qZA(),e.TgZ(6,"select",5),e.NdJ("change",function(){return i.onTypeValue()}),e.TgZ(7,"option",6),e._uU(8,"Car"),e.qZA(),e.TgZ(9,"option",7),e._uU(10,"Two wheeler"),e.qZA()(),e.YNc(11,q,2,0,"span",8),e.qZA(),e.TgZ(12,"div",3)(13,"label",9),e._uU(14,"Select a Brand"),e.qZA(),e.TgZ(15,"select",10),e.NdJ("change",function(){return i.onBrandValue()}),e.YNc(16,A,2,2,"option",11),e.qZA(),e.YNc(17,D,2,0,"span",8),e.qZA(),e.TgZ(18,"div",3)(19,"label",12),e._uU(20,"Select a Model"),e.qZA(),e.TgZ(21,"select",13),e.NdJ("change",function(){return i.onModelValue()}),e.YNc(22,C,2,2,"option",11),e.qZA(),e.YNc(23,V,2,0,"span",8),e.qZA(),e.TgZ(24,"div",3)(25,"label",14),e._uU(26,"Select a Year"),e.qZA(),e.TgZ(27,"select",15),e.YNc(28,k,2,2,"option",11),e.qZA(),e.YNc(29,S,2,0,"span",8),e.qZA(),e.TgZ(30,"div",3)(31,"label",14),e._uU(32,"Color"),e.qZA(),e._UZ(33,"input",16),e.YNc(34,N,2,0,"span",8),e.qZA(),e.TgZ(35,"div",17),e._UZ(36,"input",18),e.qZA()()()),2&a&&(e.xp6(2),e.Q6J("formGroup",i.vehicleData),e.xp6(9),e.Q6J("ngIf",i.vehicleData.hasError("required","type")&&i.vehicleData.controls.type.dirty),e.xp6(5),e.Q6J("ngForOf",i.brands.Results),e.xp6(1),e.Q6J("ngIf",i.vehicleData.hasError("required","brand")&&i.vehicleData.controls.brand.dirty),e.xp6(5),e.Q6J("ngForOf",i.models),e.xp6(1),e.Q6J("ngIf",i.vehicleData.hasError("required","model")&&i.vehicleData.controls.model.dirty),e.xp6(5),e.Q6J("ngForOf",i.years),e.xp6(1),e.Q6J("ngIf",i.vehicleData.hasError("required","year")&&i.vehicleData.controls.year.dirty),e.xp6(5),e.Q6J("ngIf",i.vehicleData.hasError("required","year")&&i.vehicleData.controls.year.dirty))},dependencies:[c.sg,c.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u],styles:[".card[_ngcontent-%COMP%]{margin-top:20px}"]})}return r})()},{path:"add.registration",component:(()=>{class r{constructor(t,a,i){this._form=t,this._vehicleService=a,this._router=i,this.errorMessage="",this.error=!1,this.registrationData=this._form.group({registrationNumber:this._form.control("",o.kI.required),expiryDate:this._form.control("",o.kI.required)})}submitRegistrationData(){console.log(this.registrationData.value),this.registrationData.valid?this._registrationSubscription=this._vehicleService.saveRegistrationData(this.registrationData.value).subscribe(t=>{console.log(t),this.responseData=t,"Success"==this.responseData.status?this._router.navigate(["user/vehicles/add.insurance"]):(this.errorMessage=this.responseData.message,this.error=!0)}):(this.errorMessage="Data is not valid",this.error=!0)}ngOnDestroy(){this._registrationSubscription&&this._registrationSubscription.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(o.qu),e.Y36(d.f),e.Y36(p.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-registration"]],decls:13,vars:3,consts:[[1,"flex","flex-col","justify-center","md:justify-start","my-auto","mt-3","md:pt-0","px-8","md:px-24","lg:px-32","w-11/12","sm:w-full","md:w-2/3","text-cyan-300"],[1,"text-center","text-3xl"],[1,"flex","flex-col","md:pt-8",3,"formGroup","submit"],[1,"flex","flex-col","pt-1"],["id","color","formControlName","registrationNumber","placeholder","Registration number",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],["class","text-danger text-center ps-2 pt-2 col-12",4,"ngIf"],["id","color","formControlName","expiryDate","placeholder","Expiry Date","type","date",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],["type","submit","value","Submit",1,"bg-cyan-300","w-1/4","text-gray-800","font-bold","text-lg","hover:bg-gray-700","p-2","mt-2","rounded"],[1,"text-center","text-red-950"],[1,"text-danger","text-center","ps-2","pt-2","col-12"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Vehicle Details."),e.qZA(),e.TgZ(3,"form",2),e.NdJ("submit",function(){return i.submitRegistrationData()}),e.TgZ(4,"div",3),e._UZ(5,"input",4),e.YNc(6,I,2,0,"span",5),e.qZA(),e.TgZ(7,"div",3),e._UZ(8,"input",6),e.YNc(9,J,2,0,"span",5),e.qZA(),e._UZ(10,"input",7),e.TgZ(11,"span",8),e._uU(12,"Something went wrong!!"),e.qZA()()()),2&a&&(e.xp6(3),e.Q6J("formGroup",i.registrationData),e.xp6(3),e.Q6J("ngIf",i.registrationData.hasError("required","registrationNumber")&&i.registrationData.controls.registrationNumber.dirty),e.xp6(3),e.Q6J("ngIf",i.registrationData.hasError("required","expiryDate")&&i.registrationData.controls.expiryDate.dirty))},dependencies:[c.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]})}return r})()},{path:"add.insurance",component:(()=>{class r{constructor(t,a,i){this._form=t,this._vehicleService=a,this._router=i,this.error=!1,this.errorMessage="",this.insuranceData=this._form.group({insuranceCompany:this._form.control("",o.kI.required),policyNumber:this._form.control("",o.kI.required),expiryDate:this._form.control("",o.kI.required)})}submitInsuranceData(){console.log(this.insuranceData.value),this.insuranceData.valid&&(this._insuranceSubscription=this._vehicleService.saveInsuranceData(this.insuranceData.value).subscribe(t=>{console.log(t),"Success"==t.status?this._router.navigate(["user/vehicles/add.images"]):(this.error=!0,this.errorMessage=t.message)}))}ngOnDestroy(){this._insuranceSubscription&&this._insuranceSubscription.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(o.qu),e.Y36(d.f),e.Y36(p.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-insurance"]],decls:18,vars:4,consts:[[1,"flex","flex-col","justify-center","md:justify-start","my-auto","mt-3","md:pt-0","px-8","md:px-24","lg:px-32","w-11/12","sm:w-full","md:w-2/3","text-cyan-300"],[1,"text-center","text-3xl"],[1,"flex","flex-col","md:pt-8",3,"formGroup","submit"],[1,"flex","flex-col","pt-1"],["id","color","formControlName","insuranceCompany","placeholder","Insurance Company",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],["class","text-danger text-center ps-2 pt-2 col-12",4,"ngIf"],["id","color","formControlName","policyNumber","placeholder","Policy number",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"p-1","text-black"],["id","color","formControlName","expiryDate","type","date",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],["type","submit","value","Submit",1,"bg-cyan-300","w-1/4","text-gray-800","font-bold","text-lg","hover:bg-gray-700","p-2","mt-2","rounded"],[1,"text-center","text-red-950"],[1,"text-danger","text-center","ps-2","pt-2","col-12"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Vehicle Details."),e.qZA(),e.TgZ(3,"form",2),e.NdJ("submit",function(){return i.submitInsuranceData()}),e.TgZ(4,"div",3),e._UZ(5,"input",4),e.YNc(6,Y,2,0,"span",5),e.qZA(),e.TgZ(7,"div",3),e._UZ(8,"input",6),e.YNc(9,F,2,0,"span",5),e.qZA(),e.TgZ(10,"div",3)(11,"span",7),e._uU(12,"Expiry Date"),e.qZA(),e._UZ(13,"input",8),e.YNc(14,j,2,0,"span",5),e.qZA(),e._UZ(15,"input",9),e.TgZ(16,"span",10),e._uU(17,"Something went wrong!!"),e.qZA()()()),2&a&&(e.xp6(3),e.Q6J("formGroup",i.insuranceData),e.xp6(3),e.Q6J("ngIf",i.insuranceData.hasError("required","insuranceCompany")&&i.insuranceData.controls.insuranceCompany.dirty),e.xp6(3),e.Q6J("ngIf",i.insuranceData.hasError("required","policyNumber")&&i.insuranceData.controls.policyNumber.dirty),e.xp6(5),e.Q6J("ngIf",i.insuranceData.hasError("required","expiryDate")&&i.insuranceData.controls.expiryDate.dirty))},dependencies:[c.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]})}return r})()},{path:"add.images",component:(()=>{class r{constructor(t,a){this._router=t,this._vehicleService=a,this.error=!1,this.errorMessage="",this.selectedFiles=[]}onFileSelected(t){this.selectedFiles=t.target.files}onSubmit(){const t=new FormData;for(let a=0;a<this.selectedFiles.length;a++)t.append("files",this.selectedFiles[a]);this._imageSubscription=this._vehicleService.saveVehiclePhoto(t).subscribe(a=>{console.log(a),this.imageResult=a,"Success"==this.imageResult.status?this._router.navigate(["user/vehicles"]):(this.error=!0,this.errorMessage="Something went wrong")})}ngOnDestroy(){this._imageSubscription&&this._imageSubscription.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(p.F0),e.Y36(d.f))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-images"]],decls:8,vars:0,consts:[[1,"child-div","block","max-w-xl","rounded-lg","bg-white","p-6","m-6"],[1,"pb-3"],["enctype","multipart/form-data",3,"ngSubmit"],["data-te-input-wrapper-init","",1,"relative","mb-12"],["type","file","accept","image/*","name","files","id","formFileMultiple","multiple","",1,"relative","m-0","block","w-full","min-w-0","flex-auto","rounded","border","border-solid","border-neutral-300","bg-clip-padding","px-3","py-[0.32rem]","text-base","font-normal","text-neutral-700","transition","duration-300","ease-in-out","file:-mx-3","file:-my-[0.32rem]","file:overflow-hidden","file:rounded-none","file:border-0","file:border-solid","file:border-inherit","file:bg-neutral-100","file:px-3","file:py-[0.32rem]","file:text-neutral-700","file:transition","file:duration-150","file:ease-in-out","file:[border-inline-end-width:1px]","file:[margin-inline-end:0.75rem]","hover:file:bg-neutral-200","focus:border-primary","focus:text-neutral-700","focus:shadow-te-primary","focus:outline-none","dark:border-neutral-600","dark:text-neutral-200","dark:file:bg-neutral-700","dark:file:text-neutral-100","dark:focus:border-primary",3,"change"],["type","submit","data-te-ripple-init","","data-te-ripple-color","light",1,"bg-cyan-300","text-gray-800","font-bold","text-lg","hover:bg-gray-700","p-2","mt-2","rounded","inline-block","rounded","px-6","pb-2","pt-2.5","uppercase","leading-normal","text-white"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Add vehicle Images"),e.qZA(),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(4,"div",3)(5,"input",4),e.NdJ("change",function(l){return i.onFileSelected(l)}),e.qZA()(),e.TgZ(6,"button",5),e._uU(7," Submit "),e.qZA()()())},dependencies:[o._Y,o.JL,o.F],styles:[".child-div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return r})()},{path:"view.vehicle",component:(()=>{class r{constructor(t,a,i){this._route=t,this._vehicleService=a,this._router=i,this.picUrl=x.N.picUrl,this.editBasic=!1,this.id="",this.selectedFiles=[]}ngOnInit(){this._route.queryParamMap.subscribe(t=>{this.id=t.get("id"),console.log(this.id)}),this.getVehicleData(this.id)}getVehicleData(t){this.VehicleSubscription=this._vehicleService.getVehicleData(t).subscribe(a=>{this.VehicleData=a,console.log("get vehicledata",a),this.data=this.VehicleData.data,console.log(this.VehicleData)})}EditBasic(t){console.log(t),this._router.navigate(["/user/vehicles/edit.vehicle"],{queryParams:{id:t}})}EditRegistration(t){this._router.navigate(["/user/vehicles/edit.registration"],{queryParams:{id:t}})}EditInsurance(t){this._router.navigate(["/user/vehicles/edit.insurance"],{queryParams:{id:t}})}deleteImage(t,a){this.imageDeleteSubscription=this._vehicleService.deleteImage(t,a).subscribe(i=>{"Success"===i.status&&(this.data=i.data)})}onFileSelected(t){this.selectedFiles=t.target.files}onSubmit(){const t=new FormData;for(let a=0;a<this.selectedFiles.length;a++)t.append("files",this.selectedFiles[a]);this._imageSubscription=this._vehicleService.updateVehiclePhoto(t,this.data._id).subscribe(a=>{console.log(a),"Success"==a.status&&(this.data=a.data)})}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(p.gz),e.Y36(d.f),e.Y36(p.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-vehicle"]],decls:55,vars:27,consts:[[1,"rounded-lg","m-1","sm:m-1","md:m-5","lg:m-10","bg-white","text-center","shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)]"],[1,"flex","flex-row","justify-center","border-b-2","border-neutral-50","px-6","py-6","dark:border-cyan-100","dark:text-gray-500"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","blue","class","bi bi-patch-check-fill ml-4","viewBox","0 0 16 16",4,"ngIf"],[1,"p-6","w-full","text-center","flex","flex-col","md:flex-row","justify-between"],[1,"mb-2","w-full","md:w-1/3","text-xl","font-medium","leading-tight","text-cyan-950","dark:text-cyan-950"],[1,"mb-2","w-full","md:w-1/3","font-medium","leading-tight","text-cyan-950","dark:text-cyan-950"],["type","button",1,"inline-block","rounded","bg-blue-500","w-1/3","md:w-auto","px-6","pb-2","pt-2.5","text-xs","font-medium","uppercase","leading-normal","text-white","shadow-[0_4px_9px_-4px_#3b71ca]","transition","duration-150","ease-in-out","hover:bg-primary-600","hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","focus:bg-primary-600","focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","focus:outline-none","focus:ring-0","active:bg-primary-700","active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)]","dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]","dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]","dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]",3,"click"],[1,"flex","flex-col","md:flex-row","p-6"],[1,"block","w-full","md:w-1/2","rounded-lg","m-1","bg-white","shadow-xl","shadow-[0_2px_15px_-3px_rgba(0,0,0,0.09),0_10px_20px_-2px_rgba(0,0,0,0.09)]"],[1,"px-6","py-3","font-medium","leading-tight","dark:text-indigo-700"],[1,"p-6"],[1,"mb-2","font-medium","leading-tight","dark:text-neutral-700"],[1,"mb-2","font-medium","leading-tight","text-cyan-800","dark:text-neutral-700"],["type","button",1,"inline-block","rounded","bg-blue-500","mt-2","md:mt-9","px-6","pb-2","pt-2.5","text-xs","font-medium","uppercase","leading-normal","text-white","shadow-[0_4px_9px_-4px_#3b71ca]","transition","duration-150","ease-in-out","hover:bg-primary-600","hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","focus:bg-primary-600","focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","focus:outline-none","focus:ring-0","active:bg-primary-700","active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)]","dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]","dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]","dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]",3,"click"],[1,"block","rounded-lg","m-1","w-full","md:w-1/2","bg-white","shadow-xl","shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)]"],[1,"bg-white-300","px-6","py-3","l","font-medium","leading-tight","dark:border-neutral-600","dark:text-indigo-700"],[1,"mb-2","font-medium","leading-tight","text-neutral-700"],["type","button",1,"inline-block","rounded","bg-blue-500","px-6","mt-2","pb-2","pt-2.5","text-xs","font-medium","uppercase","leading-normal","text-white","shadow-[0_4px_9px_-4px_#3b71ca]","transition","duration-150","ease-in-out","hover:bg-primary-600","hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","focus:bg-primary-600","focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","focus:outline-none","focus:ring-0","active:bg-primary-700","active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)]","dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]","dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]","dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]",3,"click"],["class","flex flex-row md:flex-row w-1/3 md:w-1/6  m-1 p-6",4,"ngIf"],[1,"child-div","block","max-w-xl","rounded-lg","bg-white","p-3","pl-1","md:pl-8"],["enctype","multipart/form-data",1,"flex","flex-row","justify-between",3,"ngSubmit"],["data-te-input-wrapper-init","",1,"relative","w-full","md:w-1/3","mb-12"],["type","file","accept","image/*","name","files","id","formFileMultiple","multiple","",1,"relative","m-0","block","min-w-0","flex-auto","rounded","border","border-solid","border-neutral-300","bg-clip-padding","px-3","py-[0.32rem]","text-base","font-normal","text-neutral-700","transition","duration-300","ease-in-out","file:-mx-3","file:-my-[0.32rem]","file:overflow-hidden","file:rounded-none","file:border-0","file:border-solid","file:border-inherit","file:bg-neutral-100","file:px-3","file:py-[0.32rem]","file:text-neutral-700","file:transition","file:duration-150","file:ease-in-out","file:[border-inline-end-width:1px]","file:[margin-inline-end:0.75rem]","hover:file:bg-neutral-200","focus:border-primary","focus:text-neutral-700","focus:shadow-te-primary","focus:outline-none","dark:border-neutral-600","dark:text-neutral-200","dark:file:bg-blue-500","dark:file:text-neutral-100","dark:focus:border-primary",3,"change"],["type","submit","data-te-ripple-init","","data-te-ripple-color","light",1,"bg-blue-500","w-full","md:w-auto","h-2/3","text-gray-800","hover:bg-gray-700","rounded","inline-block","rounded","px-6","p-1.5","uppercase","leading-normal","text-white"],[1,"border-t-2","border-neutral-100","px-6","py-3","dark:border-neutral-600","dark:text-gray-800"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","blue","viewBox","0 0 16 16",1,"bi","bi-patch-check-fill","ml-4"],["d","M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01-.622-.636zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708z"],[1,"flex","flex-row","md:flex-row","w-1/3","md:w-1/6","m-1","p-6"],["class","block rounded-lg w-full m-1 bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700",4,"ngFor","ngForOf"],[1,"block","rounded-lg","w-full","m-1","bg-white","shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)]","dark:bg-neutral-700"],["data-te-ripple-init","","data-te-ripple-color","light",1,"relative","overflow-hidden","bg-cover","bg-no-repeat"],["alt","",1,"rounded-t-lg",3,"src"],[1,"absolute","bottom-0","left-0","right-0","top-0","h-full","w-full","overflow-hidden","bg-[hsla(0,0%,98%,0.15)]","bg-fixed","opacity-0","transition","duration-300","ease-in-out","hover:opacity-100"],[1,"p-0"],["type","button","data-te-ripple-init","","data-te-ripple-color","light",1,"inline-block","rounded","bg-blue-700","w-full","px-6","pb-2","pt-2.5","text-xs","font-medium","uppercase","leading-normal","text-white","shadow-[0_4px_9px_-4px_#3b71ca]","transition","duration-150","ease-in-out","hover:bg-primary-600","hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","focus:bg-primary-600","focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","focus:outline-none","focus:ring-0","active:bg-primary-700","active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]","dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)]","dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]","dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]","dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]",3,"click"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," VEHICLE DETAILS "),e.YNc(3,B,2,0,"svg",2),e.qZA(),e.TgZ(4,"div",3)(5,"h5",4),e._uU(6),e.ALo(7,"uppercase"),e.qZA(),e.TgZ(8,"h5",5),e._uU(9),e.ALo(10,"uppercase"),e.qZA(),e.TgZ(11,"h5",5),e._uU(12),e.ALo(13,"uppercase"),e.qZA(),e.TgZ(14,"button",6),e.NdJ("click",function(){return i.EditBasic(i.data._id)}),e._uU(15," Edit "),e.qZA()(),e.TgZ(16,"div",7)(17,"div",8)(18,"h5",9),e._uU(19," Registration "),e.qZA(),e.TgZ(20,"div",10)(21,"h5",11),e._uU(22),e.ALo(23,"uppercase"),e.qZA(),e.TgZ(24,"h5",12),e._uU(25),e.ALo(26,"uppercase"),e.qZA(),e.TgZ(27,"button",13),e.NdJ("click",function(){return i.EditRegistration(i.data._id)}),e._uU(28," Edit "),e.qZA()()(),e.TgZ(29,"div",14)(30,"h5",15),e._uU(31," Insurance "),e.qZA(),e.TgZ(32,"div",10)(33,"h5",16)(34,"b"),e._uU(35," Company Name :"),e.qZA(),e._uU(36),e.ALo(37,"uppercase"),e.qZA(),e.TgZ(38,"h5",16),e._uU(39),e.ALo(40,"uppercase"),e.qZA(),e.TgZ(41,"h5",16),e._uU(42),e.ALo(43,"uppercase"),e.qZA(),e.TgZ(44,"button",17),e.NdJ("click",function(){return i.EditInsurance(i.data._id)}),e._uU(45," Edit "),e.qZA()()()(),e.YNc(46,R,2,1,"div",18),e.TgZ(47,"div",19)(48,"form",20),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(49,"div",21)(50,"input",22),e.NdJ("change",function(l){return i.onFileSelected(l)}),e.qZA()(),e.TgZ(51,"button",23),e._uU(52," Add images "),e.qZA()()(),e.TgZ(53,"div",24),e._uU(54),e.qZA()()),2&a&&(e.xp6(3),e.Q6J("ngIf",i.data.isVerified),e.xp6(3),e.hij(" BRAND : ",e.lcZ(7,11,i.data.brand)," "),e.xp6(3),e.hij(" MODEL : ",e.lcZ(10,13,i.data.model)," "),e.xp6(3),e.hij(" COLOR : ",e.lcZ(13,15,i.data.color)," "),e.xp6(10),e.hij(" Registration No : ",e.lcZ(23,17,i.data.registration.registrationNumber)," "),e.xp6(3),e.hij(" Expiry Date : ",e.lcZ(26,19,i.data.registration.expiryDate.split("T")[0])," "),e.xp6(11),e.hij(" ",e.lcZ(37,21,i.data.insurance.insuranceCompany)," "),e.xp6(3),e.hij(" Expiry Date : ",e.lcZ(40,23,i.data.insurance.policyNumber)," "),e.xp6(3),e.hij(" Expiry Date : ",e.lcZ(43,25,i.data.insurance.expiryDate.split("T")[0])," "),e.xp6(4),e.Q6J("ngIf",i.data.VehiclePhotos),e.xp6(8),e.hij(" Added on ",i.data.createdAt," "))},dependencies:[c.sg,c.O5,o._Y,o.JL,o.F,c.gd]})}return r})()},{path:"edit.vehicle",component:(()=>{class r{constructor(t,a,i,n,l){this._form=t,this._route=a,this._vehicleService=i,this._jwt=n,this._router=l,this.error=!1,this.errorMessage="",this.id=""}ngOnInit(){this._route.queryParamMap.subscribe(t=>{this.id=t.get("id"),console.log(this.id)}),this._vehicleDetailsSubscription=this._vehicleService.getVehicleData(this.id).subscribe(t=>{console.log(t),"Success"===t.status&&(this.vehicle=t.data,this.onTypeValue())}),this.vehicleData=this._form.group({type:this._form.control("",o.kI.required),brand:this._form.control("",o.kI.required),model:this._form.control("",o.kI.required),year:this._form.control("",o.kI.required),color:this._form.control("",o.kI.required)})}onTypeValue(){console.log(this.vehicle.category),this._vehicleService.getCarBrands(this.vehicle.category).subscribe(t=>{this.brands=t,console.log("types",t)})}onBrandValue(){var t=this;return g(function*(){console.log("brand",t.vehicleData.value.brand);const a=`https://api.api-ninjas.com/v1/cars?make=${t.vehicleData.value.brand}`,l=yield(yield fetch(a,{method:"GET",headers:{"X-Api-Key":"WVH898cupeF73t3B4fElxA==xAuBmwhmgIXFI18K"},contentType:"application/json"})).json();console.log(l),t.models=l})()}onModelValue(){var t=this;return g(function*(){const a=`https://api.api-ninjas.com/v1/cars?model=${t.vehicleData.value.model}`,l=yield(yield fetch(a,{method:"GET",headers:{"X-Api-Key":"WVH898cupeF73t3B4fElxA==xAuBmwhmgIXFI18K"},contentType:"application/json"})).json();console.log(l),t.years=l})()}cancel(){this._router.navigate(["user/vehicles/view.vehicle"],{queryParams:{id:this.id}})}submitVehicleData(){console.log(this.vehicleData.valid),this.vehicleData&&this._vehicleService.updateVehicle(this.vehicleData.value,this.id).subscribe(t=>{console.log("result",t),"Success"===t.status&&this._router.navigate(["user/vehicles/view.vehicle"],{queryParams:{id:this.id}})})}ngOnDestroy(){this._vehicleSubscription&&this._vehicleSubscription.unsubscribe(),this._vehicleDetailsSubscription&&this._vehicleDetailsSubscription.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(o.qu),e.Y36(p.gz),e.Y36(d.f),e.Y36(m.T),e.Y36(p.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-edit-vehicle-basic"]],decls:33,vars:13,consts:[[1,"child-div","card","flex","flex-col","justify-center","shadow-zinc-600","m-1.5","md:justify-center","md:pt-0","px-8","md:px-24","lg:px-32","w-11/12","sm:w-full","md:w-2/3","lg:w-4/5","xl:w-4/5","text-gray-800"],[1,"text-center","text-3xl","mt-2"],[1,"flex","flex-col","md:pt-8","w-full",3,"formGroup","submit"],[1,"flex","flex-col","pt-1"],["for","vechicleType",1,"text-lg"],["type","text","disabled","",1,"bg-gray-100","w-1/4","text-gray-800","font-bold","text-lg","hover:bg-gray-700","p-2","mt-2","rounded",3,"placeholder"],["for","brand",1,"text-lg"],["id","brand","formControlName","brand",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","text-danger text-center ps-2 pt-2 col-12",4,"ngIf"],["for","model",1,"text-lg"],["id","model","formControlName","model",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline",3,"change"],["for","year",1,"text-lg"],["id","year","formControlName","year",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],["for","year",1,"text-md"],["id","color","formControlName","color",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"flex","flex-row","justify-around","text-center","mt-4"],["type","submit","value","Submit",1,"bg-green-700","w-1/4","text-white","font-bold","text-lg","hover:bg-gray-700","p-2","mt-2","rounded"],["type","button","value","Cancel",1,"bg-orange-700","w-1/4","text-gray-800","font-bold","text-lg","hover:bg-gray-700","p-2","mt-2","rounded",3,"click"],[3,"value"],[1,"text-danger","text-center","ps-2","pt-2","col-12"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0),e._UZ(1,"p",1),e.TgZ(2,"form",2),e.NdJ("submit",function(){return i.submitVehicleData()}),e.TgZ(3,"div",3)(4,"label",4),e._uU(5,"Vehicle Type"),e.qZA(),e._UZ(6,"input",5),e.qZA(),e.TgZ(7,"div",3)(8,"label",6),e._uU(9),e.qZA(),e.TgZ(10,"select",7),e.NdJ("change",function(){return i.onBrandValue()}),e.YNc(11,L,2,2,"option",8),e.qZA(),e.YNc(12,G,2,0,"span",9),e.qZA(),e.TgZ(13,"div",3)(14,"label",10),e._uU(15),e.qZA(),e.TgZ(16,"select",11),e.NdJ("change",function(){return i.onModelValue()}),e.YNc(17,H,2,2,"option",8),e.qZA(),e.YNc(18,X,2,0,"span",9),e.qZA(),e.TgZ(19,"div",3)(20,"label",12),e._uU(21),e.qZA(),e.TgZ(22,"select",13),e.YNc(23,$,2,2,"option",8),e.qZA(),e.YNc(24,z,2,0,"span",9),e.qZA(),e.TgZ(25,"div",3)(26,"label",14),e._uU(27),e.qZA(),e._UZ(28,"input",15),e.YNc(29,K,2,0,"span",9),e.qZA(),e.TgZ(30,"div",16),e._UZ(31,"input",17),e.TgZ(32,"input",18),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()()),2&a&&(e.xp6(2),e.Q6J("formGroup",i.vehicleData),e.xp6(4),e.s9C("placeholder",i.vehicle.category),e.xp6(3),e.hij("Select a Brand : ",i.vehicle.brand,""),e.xp6(2),e.Q6J("ngForOf",i.brands.Results),e.xp6(1),e.Q6J("ngIf",i.vehicleData.hasError("required","brand")&&i.vehicleData.controls.brand.dirty),e.xp6(3),e.hij("Select a Model : ",i.vehicle.model,""),e.xp6(2),e.Q6J("ngForOf",i.models),e.xp6(1),e.Q6J("ngIf",i.vehicleData.hasError("required","model")&&i.vehicleData.controls.model.dirty),e.xp6(3),e.hij("Select a Year : ",i.vehicle.yearOfManufacture,""),e.xp6(2),e.Q6J("ngForOf",i.years),e.xp6(1),e.Q6J("ngIf",i.vehicleData.hasError("required","year")&&i.vehicleData.controls.year.dirty),e.xp6(3),e.hij("Color : ",i.vehicle.color,""),e.xp6(2),e.Q6J("ngIf",i.vehicleData.hasError("required","year")&&i.vehicleData.controls.year.dirty))},dependencies:[c.sg,c.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u]})}return r})()},{path:"edit.registration",component:(()=>{class r{constructor(t,a,i,n){this._form=t,this._vehicleService=a,this._router=i,this._route=n,this.errorMessage="",this.error=!1,this.id="",this.registrationData=this._form.group({registrationNumber:this._form.control("",o.kI.required),expiryDate:this._form.control("",o.kI.required)})}ngOnInit(){this._route.queryParamMap.subscribe(t=>{this.id=t.get("id"),console.log(this.id)}),this._vehicleDetailsSubscription=this._vehicleService.getVehicleData(this.id).subscribe(t=>{console.log(t),"Success"===t.status&&(this.vehicle=t.data)})}cancel(){this._router.navigate(["user/vehicles/view.vehicle"],{queryParams:{id:this.id}})}submitRegistrationData(){console.log(this.registrationData.value),this.registrationData.valid?this._registrationSubscription=this._vehicleService.updateRegistrationData(this.registrationData.value,this.id).subscribe(t=>{console.log(t),"Success"==t.status&&this._router.navigate(["user/vehicles/view.vehicle"],{queryParams:{id:this.id}})}):(this.errorMessage="Data is not valid",this.error=!0)}ngOnDestroy(){this._registrationSubscription&&this._registrationSubscription.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(o.qu),e.Y36(d.f),e.Y36(p.F0),e.Y36(p.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-edit-vehicle-registration"]],decls:17,vars:5,consts:[[1,"flex","flex-col","justify-center","md:justify-start","my-auto","mt-3","md:pt-0","px-8","md:px-24","lg:px-32","w-11/12","sm:w-full","md:w-2/3","text-cyan-300"],[1,"text-center","text-3xl"],[1,"flex","flex-col","md:pt-8","text-gray-800",3,"formGroup","submit"],[1,"flex","flex-col","pt-1"],["for","year",1,"text-base"],["id","color","formControlName","registrationNumber","placeholder","Registration number",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],["class","text-danger text-center ps-2 pt-2 col-12",4,"ngIf"],[1,"flex","flex-col","pt-1","mt-2"],["id","color","formControlName","expiryDate","placeholder","Expiry Date","type","date",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"flex","flex-row","justify-around","text-center","mt-4"],["type","submit","value","Submit",1,"bg-green-700","w-1/4","text-white","font-bold","text-lg","hover:bg-gray-700","p-2","mt-2","rounded"],["type","button","value","Cancel",1,"bg-orange-700","w-1/4","text-gray-800","font-bold","text-lg","hover:bg-gray-700","p-2","mt-2","rounded",3,"click"],[1,"text-danger","text-center","ps-2","pt-2","col-12"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Vehicle Details."),e.qZA(),e.TgZ(3,"form",2),e.NdJ("submit",function(){return i.submitRegistrationData()}),e.TgZ(4,"div",3)(5,"label",4),e._uU(6),e.qZA(),e._UZ(7,"input",5),e.YNc(8,ee,2,0,"span",6),e.qZA(),e.TgZ(9,"div",7)(10,"label",4),e._uU(11),e.qZA(),e._UZ(12,"input",8),e.YNc(13,te,2,0,"span",6),e.qZA(),e.TgZ(14,"div",9),e._UZ(15,"input",10),e.TgZ(16,"input",11),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()()),2&a&&(e.xp6(3),e.Q6J("formGroup",i.registrationData),e.xp6(3),e.hij("Registration number : ",i.vehicle.registration.registrationNumber,""),e.xp6(2),e.Q6J("ngIf",i.registrationData.hasError("required","registrationNumber")&&i.registrationData.controls.registrationNumber.dirty),e.xp6(3),e.hij("Expiry date : ",i.vehicle.registration.expiryDate.split("T")[0],""),e.xp6(2),e.Q6J("ngIf",i.registrationData.hasError("required","expiryDate")&&i.registrationData.controls.expiryDate.dirty))},dependencies:[c.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]})}return r})()},{path:"edit.insurance",component:(()=>{class r{constructor(t,a,i,n){this._form=t,this._vehicleService=a,this._router=i,this._route=n,this.error=!1,this.errorMessage="",this.id="",this.insuranceData=this._form.group({insuranceCompany:this._form.control("",o.kI.required),policyNumber:this._form.control("",o.kI.required),expiryDate:this._form.control("",o.kI.required)})}ngOnInit(){this._route.queryParamMap.subscribe(t=>{this.id=t.get("id"),console.log(this.id)}),this._vehicleDetailsSubscription=this._vehicleService.getVehicleData(this.id).subscribe(t=>{console.log(t),"Success"===t.status&&(this.vehicle=t.data)})}submitInsuranceData(){console.log(this.insuranceData.value),this.insuranceData.valid&&(this._insuranceSubscription=this._vehicleService.updateInsuranceData(this.insuranceData.value,this.id).subscribe(t=>{console.log(t),"Success"==t.status&&this._router.navigate(["user/vehicles/view.vehicle"],{queryParams:{id:this.id}})}))}cancel(){this._router.navigate(["user/vehicles/view.vehicle"],{queryParams:{id:this.id}})}ngOnDestroy(){this._insuranceSubscription&&this._insuranceSubscription.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||r)(e.Y36(o.qu),e.Y36(d.f),e.Y36(p.F0),e.Y36(p.gz))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-edit-vehicle-insurance"]],decls:18,vars:4,consts:[[1,"flex","flex-col","justify-center","md:justify-start","my-auto","mt-3","md:pt-0","px-8","md:px-24","lg:px-32","w-11/12","sm:w-full","md:w-2/3","text-cyan-300"],[1,"text-center","text-3xl"],[1,"flex","flex-col","md:pt-8",3,"formGroup","submit"],[1,"flex","flex-col","pt-1"],["id","color","formControlName","insuranceCompany","placeholder","Insurance Company",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],["class","text-danger text-center ps-2 pt-2 col-12",4,"ngIf"],["id","color","formControlName","policyNumber","placeholder","Policy number",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"p-1","text-black"],["id","color","formControlName","expiryDate","type","date",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mt-1","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"flex","flex-row","justify-around","text-center","mt-4"],["type","submit","value","Submit",1,"bg-green-700","w-1/4","text-white","font-bold","text-lg","hover:bg-gray-700","p-2","mt-2","rounded"],["type","button","value","Cancel",1,"bg-orange-700","w-1/4","text-gray-800","font-bold","text-lg","hover:bg-gray-700","p-2","mt-2","rounded",3,"click"],[1,"text-danger","text-center","ps-2","pt-2","col-12"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Vehicle Details."),e.qZA(),e.TgZ(3,"form",2),e.NdJ("submit",function(){return i.submitInsuranceData()}),e.TgZ(4,"div",3),e._UZ(5,"input",4),e.YNc(6,re,2,0,"span",5),e.qZA(),e.TgZ(7,"div",3),e._UZ(8,"input",6),e.YNc(9,ae,2,0,"span",5),e.qZA(),e.TgZ(10,"div",3)(11,"span",7),e._uU(12,"Expiry Date"),e.qZA(),e._UZ(13,"input",8),e.YNc(14,oe,2,0,"span",5),e.qZA(),e.TgZ(15,"div",9),e._UZ(16,"input",10),e.TgZ(17,"input",11),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()()),2&a&&(e.xp6(3),e.Q6J("formGroup",i.insuranceData),e.xp6(3),e.Q6J("ngIf",i.insuranceData.hasError("required","insuranceCompany")&&i.insuranceData.controls.insuranceCompany.dirty),e.xp6(3),e.Q6J("ngIf",i.insuranceData.hasError("required","policyNumber")&&i.insuranceData.controls.policyNumber.dirty),e.xp6(5),e.Q6J("ngIf",i.insuranceData.hasError("required","expiryDate")&&i.insuranceData.controls.expiryDate.dirty))},dependencies:[c.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]})}return r})()}];let se=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#i=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(ne),p.Bz]})}return r})(),le=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.oAB({type:r});static#i=this.\u0275inj=e.cJS({imports:[c.ez,se,o.UX,o.u5]})}return r})()}}]);